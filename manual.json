{
    "$schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
    "contentVersion": "1.0.0.0",
    "parameters": {
        "loadBalancers_software_name": {
            "defaultValue": "software",
            "type": "String"
        },
        "virtualMachines_software_name": {
            "defaultValue": "software",
            "type": "String"
        },
        "virtualNetworks_testvnet_name": {
            "defaultValue": "testvnet",
            "type": "String"
        },
        "publicIPAddresses_loadbip_name": {
            "defaultValue": "loadbip",
            "type": "String"
        },
        "virtualMachines_jumpserver_name": {
            "defaultValue": "jumpserver",
            "type": "String"
        },
        "networkInterfaces_software_name": {
            "defaultValue": "software",
            "type": "String"
        },
        "networkInterfaces_software907_name": {
            "defaultValue": "software907",
            "type": "String"
        },
        "networkInterfaces_jumpserver561_name": {
            "defaultValue": "jumpserver561",
            "type": "String"
        },
        "publicIPAddresses_jumpserver_ip_name": {
            "defaultValue": "jumpserver-ip",
            "type": "String"
        },
        "networkSecurityGroups_software_nsg_name": {
            "defaultValue": "software-nsg",
            "type": "String"
        },
        "networkSecurityGroups_jumpserver_nsg_name": {
            "defaultValue": "jumpserver-nsg",
            "type": "String"
        },
        "publicIPAddresses_LoadBalancerFrontEnd_name": {
            "defaultValue": "LoadBalancerFrontEnd",
            "type": "String"
        },
        "subnets_default_name": {
            "defaultValue": "default",
            "type": "String"
        },
        "subnets_jump_subnet_name": {
            "defaultValue": "jump-subnet",
            "type": "String"
        },
        "securityRules_RDP_name": {
            "defaultValue": "RDP",
            "type": "String"
        },
        "securityRules_sonar_name": {
            "defaultValue": "sonar",
            "type": "String"
        },
        "securityRules_artifact_name": {
            "defaultValue": "artifact",
            "type": "String"
        },
        "securityRules_Port_RDP_name": {
            "defaultValue": "Port_RDP",
            "type": "String"
        },
        "securityRules_Port_8080_name": {
            "defaultValue": "Port_8080",
            "type": "String"
        },
        "virtualMachines_jumpserver_id": {
            "defaultValue": "/subscriptions/8c879d4b-1e31-438b-8f74-41093d5c4b83/resourceGroups/jenkinsaspass/providers/Microsoft.Compute/disks/jumpserver_OsDisk_1_d66590e7b90e4869acff1290aa92d1a3",
            "type": "String"
        },
        "virtualMachines_software_id": {
            "defaultValue": "/subscriptions/8c879d4b-1e31-438b-8f74-41093d5c4b83/resourceGroups/jenkinsaspass/providers/Microsoft.Compute/disks/software_OsDisk_1_7e55f7ddc0ff4f7c986eb68cf6820e66",
            "type": "String"
        },
        "loadBalancers_software_id": {
            "defaultValue": "/subscriptions/8c879d4b-1e31-438b-8f74-41093d5c4b83/resourceGroups/jenkinsaspass/providers/Microsoft.Network/loadBalancers/software/frontendIPConfigurations/LoadBalancerFrontEnd",
            "type": "String"
        },
        "loadBalancers_software_id_1": {
            "defaultValue": "/subscriptions/8c879d4b-1e31-438b-8f74-41093d5c4b83/resourceGroups/jenkinsaspass/providers/Microsoft.Network/loadBalancers/software/backendAddressPools/mybackend",
            "type": "String"
        },
        "loadBalancers_software_id_2": {
            "defaultValue": "/subscriptions/8c879d4b-1e31-438b-8f74-41093d5c4b83/resourceGroups/jenkinsaspass/providers/Microsoft.Network/loadBalancers/software/probes/jenkins",
            "type": "String"
        },
        "loadBalancers_software_id_3": {
            "defaultValue": "/subscriptions/8c879d4b-1e31-438b-8f74-41093d5c4b83/resourceGroups/jenkinsaspass/providers/Microsoft.Network/loadBalancers/software/frontendIPConfigurations/LoadBalancerFrontEnd",
            "type": "String"
        },
        "loadBalancers_software_id_4": {
            "defaultValue": "/subscriptions/8c879d4b-1e31-438b-8f74-41093d5c4b83/resourceGroups/jenkinsaspass/providers/Microsoft.Network/loadBalancers/software/backendAddressPools/mybackend",
            "type": "String"
        },
        "loadBalancers_software_id_5": {
            "defaultValue": "/subscriptions/8c879d4b-1e31-438b-8f74-41093d5c4b83/resourceGroups/jenkinsaspass/providers/Microsoft.Network/loadBalancers/software/probes/artifact",
            "type": "String"
        },
        "loadBalancers_software_id_6": {
            "defaultValue": "/subscriptions/8c879d4b-1e31-438b-8f74-41093d5c4b83/resourceGroups/jenkinsaspass/providers/Microsoft.Network/loadBalancers/software/frontendIPConfigurations/LoadBalancerFrontEnd",
            "type": "String"
        },
        "loadBalancers_software_id_7": {
            "defaultValue": "/subscriptions/8c879d4b-1e31-438b-8f74-41093d5c4b83/resourceGroups/jenkinsaspass/providers/Microsoft.Network/loadBalancers/software/backendAddressPools/mybackend",
            "type": "String"
        },
        "loadBalancers_software_id_8": {
            "defaultValue": "/subscriptions/8c879d4b-1e31-438b-8f74-41093d5c4b83/resourceGroups/jenkinsaspass/providers/Microsoft.Network/loadBalancers/software/probes/sonar",
            "type": "String"
        }
    },
    "variables": {},
    "resources": [
        {
            "comments": "Generalized from resource: '/subscriptions/8c879d4b-1e31-438b-8f74-41093d5c4b83/resourceGroups/jenkinsaspass/providers/Microsoft.Compute/virtualMachines/jumpserver'.",
            "type": "Microsoft.Compute/virtualMachines",
            "name": "[parameters('virtualMachines_jumpserver_name')]",
            "apiVersion": "2018-06-01",
            "location": "centralus",
            "tags": {},
            "scale": null,
            "properties": {
                "hardwareProfile": {
                    "vmSize": "Standard_DS1_v2"
                },
                "storageProfile": {
                    "imageReference": {
                        "publisher": "MicrosoftWindowsServer",
                        "offer": "WindowsServer",
                        "sku": "2016-Datacenter",
                        "version": "latest"
                    },
                    "osDisk": {
                        "osType": "Windows",
                        "name": "[concat(parameters('virtualMachines_jumpserver_name'),'_OsDisk_1_d66590e7b90e4869acff1290aa92d1a3')]",
                        "createOption": "FromImage",
                        "caching": "ReadWrite",
                        "managedDisk": {
                            "storageAccountType": "Premium_LRS",
                            "id": "[parameters('virtualMachines_jumpserver_id')]"
                        },
                        "diskSizeGB": 127
                    },
                    "dataDisks": []
                },
                "osProfile": {
                    "computerName": "[parameters('virtualMachines_jumpserver_name')]",
                    "adminUsername": "demouser",
                    "windowsConfiguration": {
                        "provisionVMAgent": true,
                        "enableAutomaticUpdates": true
                    },
                    "secrets": [],
                    "allowExtensionOperations": true
                },
                "networkProfile": {
                    "networkInterfaces": [
                        {
                            "id": "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_jumpserver561_name'))]"
                        }
                    ]
                },
                "licenseType": "Windows_Server"
            },
            "dependsOn": [
                "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_jumpserver561_name'))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/8c879d4b-1e31-438b-8f74-41093d5c4b83/resourceGroups/jenkinsaspass/providers/Microsoft.Compute/virtualMachines/software'.",
            "type": "Microsoft.Compute/virtualMachines",
            "name": "[parameters('virtualMachines_software_name')]",
            "apiVersion": "2018-06-01",
            "location": "centralus",
            "tags": {},
            "scale": null,
            "properties": {
                "hardwareProfile": {
                    "vmSize": "Standard_DS1_v2"
                },
                "storageProfile": {
                    "imageReference": {
                        "publisher": "MicrosoftWindowsServer",
                        "offer": "WindowsServer",
                        "sku": "2016-Datacenter",
                        "version": "latest"
                    },
                    "osDisk": {
                        "osType": "Windows",
                        "name": "[concat(parameters('virtualMachines_software_name'),'_OsDisk_1_7e55f7ddc0ff4f7c986eb68cf6820e66')]",
                        "createOption": "FromImage",
                        "caching": "ReadWrite",
                        "managedDisk": {
                            "storageAccountType": "Premium_LRS",
                            "id": "[parameters('virtualMachines_software_id')]"
                        },
                        "diskSizeGB": 127
                    },
                    "dataDisks": []
                },
                "osProfile": {
                    "computerName": "[parameters('virtualMachines_software_name')]",
                    "adminUsername": "demouser",
                    "windowsConfiguration": {
                        "provisionVMAgent": true,
                        "enableAutomaticUpdates": true
                    },
                    "secrets": [],
                    "allowExtensionOperations": true
                },
                "networkProfile": {
                    "networkInterfaces": [
                        {
                            "id": "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_software907_name'))]"
                        }
                    ]
                },
                "licenseType": "Windows_Server"
            },
            "dependsOn": [
                "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_software907_name'))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/8c879d4b-1e31-438b-8f74-41093d5c4b83/resourceGroups/jenkinsaspass/providers/Microsoft.Network/loadBalancers/software'.",
            "type": "Microsoft.Network/loadBalancers",
            "sku": {
                "name": "Basic",
                "tier": "Regional"
            },
            "name": "[parameters('loadBalancers_software_name')]",
            "apiVersion": "2018-02-01",
            "location": "centralus",
            "scale": null,
            "properties": {
                "provisioningState": "Succeeded",
                "resourceGuid": "d6d4d033-82e6-4aa8-b210-5604005d6f27",
                "frontendIPConfigurations": [
                    {
                        "name": "LoadBalancerFrontEnd",
                        "etag": "W/\"609c9fc8-de3d-4105-9c79-0ea29c661a36\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "privateIPAllocationMethod": "Dynamic",
                            "publicIPAddress": {
                                "id": "[resourceId('Microsoft.Network/publicIPAddresses', parameters('publicIPAddresses_loadbip_name'))]"
                            }
                        }
                    }
                ],
                "backendAddressPools": [
                    {
                        "name": "mybackend",
                        "etag": "W/\"609c9fc8-de3d-4105-9c79-0ea29c661a36\"",
                        "properties": {
                            "provisioningState": "Succeeded"
                        }
                    }
                ],
                "loadBalancingRules": [
                    {
                        "name": "jenkins",
                        "etag": "W/\"609c9fc8-de3d-4105-9c79-0ea29c661a36\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "frontendIPConfiguration": {
                                "id": "[parameters('loadBalancers_software_id')]"
                            },
                            "frontendPort": 80,
                            "backendPort": 8080,
                            "enableFloatingIP": false,
                            "idleTimeoutInMinutes": 4,
                            "protocol": "Tcp",
                            "loadDistribution": "Default",
                            "backendAddressPool": {
                                "id": "[parameters('loadBalancers_software_id_1')]"
                            },
                            "probe": {
                                "id": "[parameters('loadBalancers_software_id_2')]"
                            }
                        }
                    },
                    {
                        "name": "artifact",
                        "etag": "W/\"609c9fc8-de3d-4105-9c79-0ea29c661a36\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "frontendIPConfiguration": {
                                "id": "[parameters('loadBalancers_software_id_3')]"
                            },
                            "frontendPort": 8090,
                            "backendPort": 8081,
                            "enableFloatingIP": false,
                            "idleTimeoutInMinutes": 4,
                            "protocol": "Tcp",
                            "loadDistribution": "Default",
                            "backendAddressPool": {
                                "id": "[parameters('loadBalancers_software_id_4')]"
                            },
                            "probe": {
                                "id": "[parameters('loadBalancers_software_id_5')]"
                            }
                        }
                    },
                    {
                        "name": "sonar",
                        "etag": "W/\"609c9fc8-de3d-4105-9c79-0ea29c661a36\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "frontendIPConfiguration": {
                                "id": "[parameters('loadBalancers_software_id_6')]"
                            },
                            "frontendPort": 9090,
                            "backendPort": 9000,
                            "enableFloatingIP": false,
                            "idleTimeoutInMinutes": 4,
                            "protocol": "Tcp",
                            "loadDistribution": "Default",
                            "backendAddressPool": {
                                "id": "[parameters('loadBalancers_software_id_7')]"
                            },
                            "probe": {
                                "id": "[parameters('loadBalancers_software_id_8')]"
                            }
                        }
                    }
                ],
                "probes": [
                    {
                        "name": "jenkins",
                        "etag": "W/\"609c9fc8-de3d-4105-9c79-0ea29c661a36\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "protocol": "Tcp",
                            "port": 8080,
                            "intervalInSeconds": 5,
                            "numberOfProbes": 2
                        }
                    },
                    {
                        "name": "sonar",
                        "etag": "W/\"609c9fc8-de3d-4105-9c79-0ea29c661a36\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "protocol": "Tcp",
                            "port": 9000,
                            "intervalInSeconds": 5,
                            "numberOfProbes": 2
                        }
                    },
                    {
                        "name": "artifact",
                        "etag": "W/\"609c9fc8-de3d-4105-9c79-0ea29c661a36\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "protocol": "Tcp",
                            "port": 8081,
                            "intervalInSeconds": 5,
                            "numberOfProbes": 2
                        }
                    }
                ],
                "inboundNatRules": [],
                "inboundNatPools": []
            },
            "dependsOn": [
                "[resourceId('Microsoft.Network/publicIPAddresses', parameters('publicIPAddresses_loadbip_name'))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/8c879d4b-1e31-438b-8f74-41093d5c4b83/resourceGroups/jenkinsaspass/providers/Microsoft.Network/networkInterfaces/jumpserver561'.",
            "type": "Microsoft.Network/networkInterfaces",
            "name": "[parameters('networkInterfaces_jumpserver561_name')]",
            "apiVersion": "2018-02-01",
            "location": "centralus",
            "tags": {},
            "scale": null,
            "properties": {
                "provisioningState": "Succeeded",
                "resourceGuid": "8d54b011-c4bf-4cc7-9b79-7e0f14015598",
                "ipConfigurations": [
                    {
                        "name": "ipconfig1",
                        "etag": "W/\"d727763f-5eba-41e3-8c7e-421aa094b4c5\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "privateIPAddress": "10.0.1.5",
                            "privateIPAllocationMethod": "Dynamic",
                            "publicIPAddress": {
                                "id": "[resourceId('Microsoft.Network/publicIPAddresses', parameters('publicIPAddresses_jumpserver_ip_name'))]"
                            },
                            "subnet": {
                                "id": "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_testvnet_name'), parameters('subnets_jump_subnet_name'))]"
                            },
                            "primary": true,
                            "privateIPAddressVersion": "IPv4"
                        }
                    }
                ],
                "dnsSettings": {
                    "dnsServers": [],
                    "appliedDnsServers": [],
                    "internalDomainNameSuffix": "ahe2v5er5wkuhpkvq12hthlvdg.gx.internal.cloudapp.net"
                },
                "macAddress": "00-0D-3A-94-C4-E6",
                "enableAcceleratedNetworking": false,
                "enableIPForwarding": false,
                "networkSecurityGroup": {
                    "id": "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_jumpserver_nsg_name'))]"
                },
                "primary": true
            },
            "dependsOn": [
                "[resourceId('Microsoft.Network/publicIPAddresses', parameters('publicIPAddresses_jumpserver_ip_name'))]",
                "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_testvnet_name'), parameters('subnets_jump_subnet_name'))]",
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_jumpserver_nsg_name'))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/8c879d4b-1e31-438b-8f74-41093d5c4b83/resourceGroups/jenkinsaspass/providers/Microsoft.Network/networkInterfaces/software'.",
            "type": "Microsoft.Network/networkInterfaces",
            "name": "[parameters('networkInterfaces_software_name')]",
            "apiVersion": "2018-02-01",
            "location": "centralus",
            "scale": null,
            "properties": {
                "provisioningState": "Succeeded",
                "resourceGuid": "00566ed1-1d58-48f5-9d2a-6347d6b4c1e2",
                "ipConfigurations": [
                    {
                        "name": "ipconfig1",
                        "etag": "W/\"596c07eb-fedb-4abe-b6c5-66d675f949c9\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "privateIPAddress": "10.0.0.4",
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_testvnet_name'), parameters('subnets_default_name'))]"
                            },
                            "primary": true,
                            "privateIPAddressVersion": "IPv4"
                        }
                    }
                ],
                "dnsSettings": {
                    "dnsServers": [],
                    "appliedDnsServers": [],
                    "internalDomainNameSuffix": "ahe2v5er5wkuhpkvq12hthlvdg.gx.internal.cloudapp.net"
                },
                "enableAcceleratedNetworking": false,
                "enableIPForwarding": false
            },
            "dependsOn": [
                "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_testvnet_name'), parameters('subnets_default_name'))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/8c879d4b-1e31-438b-8f74-41093d5c4b83/resourceGroups/jenkinsaspass/providers/Microsoft.Network/networkInterfaces/software907'.",
            "type": "Microsoft.Network/networkInterfaces",
            "name": "[parameters('networkInterfaces_software907_name')]",
            "apiVersion": "2018-02-01",
            "location": "centralus",
            "tags": {},
            "scale": null,
            "properties": {
                "provisioningState": "Succeeded",
                "resourceGuid": "593dabae-a82d-4558-9c1b-d96c163fdad8",
                "ipConfigurations": [
                    {
                        "name": "ipconfig1",
                        "etag": "W/\"4dd8285a-ea9d-4dd4-af44-92582d409737\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "privateIPAddress": "10.0.0.5",
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_testvnet_name'), parameters('subnets_default_name'))]"
                            },
                            "primary": true,
                            "privateIPAddressVersion": "IPv4",
                            "loadBalancerBackendAddressPools": [
                                {
                                    "id": "[concat(resourceId('Microsoft.Network/loadBalancers', parameters('loadBalancers_software_name')), '/backendAddressPools/mybackend')]"
                                }
                            ]
                        }
                    }
                ],
                "dnsSettings": {
                    "dnsServers": [],
                    "appliedDnsServers": [],
                    "internalDomainNameSuffix": "ahe2v5er5wkuhpkvq12hthlvdg.gx.internal.cloudapp.net"
                },
                "macAddress": "00-0D-3A-94-CB-04",
                "enableAcceleratedNetworking": false,
                "enableIPForwarding": false,
                "networkSecurityGroup": {
                    "id": "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_software_nsg_name'))]"
                },
                "primary": true
            },
            "dependsOn": [
                "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_testvnet_name'), parameters('subnets_default_name'))]",
                "[resourceId('Microsoft.Network/loadBalancers', parameters('loadBalancers_software_name'))]",
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_software_nsg_name'))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/8c879d4b-1e31-438b-8f74-41093d5c4b83/resourceGroups/jenkinsaspass/providers/Microsoft.Network/networkSecurityGroups/jumpserver-nsg'.",
            "type": "Microsoft.Network/networkSecurityGroups",
            "name": "[parameters('networkSecurityGroups_jumpserver_nsg_name')]",
            "apiVersion": "2018-02-01",
            "location": "centralus",
            "tags": {},
            "scale": null,
            "properties": {
                "provisioningState": "Succeeded",
                "resourceGuid": "ee845a0d-862c-41f8-84d3-b4d4ba0d7e52",
                "securityRules": [
                    {
                        "name": "RDP",
                        "etag": "W/\"abedb809-e280-4dc4-a5f2-665979d0e559\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "protocol": "TCP",
                            "sourcePortRange": "*",
                            "destinationPortRange": "3389",
                            "sourceAddressPrefix": "*",
                            "destinationAddressPrefix": "*",
                            "access": "Allow",
                            "priority": 300,
                            "direction": "Inbound",
                            "sourcePortRanges": [],
                            "destinationPortRanges": [],
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    }
                ],
                "defaultSecurityRules": [
                    {
                        "name": "AllowVnetInBound",
                        "etag": "W/\"abedb809-e280-4dc4-a5f2-665979d0e559\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "description": "Allow inbound traffic from all VMs in VNET",
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "VirtualNetwork",
                            "destinationAddressPrefix": "VirtualNetwork",
                            "access": "Allow",
                            "priority": 65000,
                            "direction": "Inbound",
                            "sourcePortRanges": [],
                            "destinationPortRanges": [],
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    },
                    {
                        "name": "AllowAzureLoadBalancerInBound",
                        "etag": "W/\"abedb809-e280-4dc4-a5f2-665979d0e559\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "description": "Allow inbound traffic from azure load balancer",
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "AzureLoadBalancer",
                            "destinationAddressPrefix": "*",
                            "access": "Allow",
                            "priority": 65001,
                            "direction": "Inbound",
                            "sourcePortRanges": [],
                            "destinationPortRanges": [],
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    },
                    {
                        "name": "DenyAllInBound",
                        "etag": "W/\"abedb809-e280-4dc4-a5f2-665979d0e559\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "description": "Deny all inbound traffic",
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "*",
                            "destinationAddressPrefix": "*",
                            "access": "Deny",
                            "priority": 65500,
                            "direction": "Inbound",
                            "sourcePortRanges": [],
                            "destinationPortRanges": [],
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    },
                    {
                        "name": "AllowVnetOutBound",
                        "etag": "W/\"abedb809-e280-4dc4-a5f2-665979d0e559\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "description": "Allow outbound traffic from all VMs to all VMs in VNET",
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "VirtualNetwork",
                            "destinationAddressPrefix": "VirtualNetwork",
                            "access": "Allow",
                            "priority": 65000,
                            "direction": "Outbound",
                            "sourcePortRanges": [],
                            "destinationPortRanges": [],
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    },
                    {
                        "name": "AllowInternetOutBound",
                        "etag": "W/\"abedb809-e280-4dc4-a5f2-665979d0e559\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "description": "Allow outbound traffic from all VMs to Internet",
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "*",
                            "destinationAddressPrefix": "Internet",
                            "access": "Allow",
                            "priority": 65001,
                            "direction": "Outbound",
                            "sourcePortRanges": [],
                            "destinationPortRanges": [],
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    },
                    {
                        "name": "DenyAllOutBound",
                        "etag": "W/\"abedb809-e280-4dc4-a5f2-665979d0e559\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "description": "Deny all outbound traffic",
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "*",
                            "destinationAddressPrefix": "*",
                            "access": "Deny",
                            "priority": 65500,
                            "direction": "Outbound",
                            "sourcePortRanges": [],
                            "destinationPortRanges": [],
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    }
                ]
            },
            "dependsOn": []
        },
        {
            "comments": "Generalized from resource: '/subscriptions/8c879d4b-1e31-438b-8f74-41093d5c4b83/resourceGroups/jenkinsaspass/providers/Microsoft.Network/networkSecurityGroups/software-nsg'.",
            "type": "Microsoft.Network/networkSecurityGroups",
            "name": "[parameters('networkSecurityGroups_software_nsg_name')]",
            "apiVersion": "2018-02-01",
            "location": "centralus",
            "tags": {},
            "scale": null,
            "properties": {
                "provisioningState": "Succeeded",
                "resourceGuid": "35e003c1-9983-4681-ab56-d041118fffea",
                "securityRules": [
                    {
                        "name": "Port_8080",
                        "etag": "W/\"12a86e92-2e65-44ec-9d88-0a9c64caf6f8\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "protocol": "TCP",
                            "sourcePortRange": "*",
                            "destinationPortRange": "8080",
                            "sourceAddressPrefix": "*",
                            "destinationAddressPrefix": "*",
                            "access": "Allow",
                            "priority": 100,
                            "direction": "Inbound",
                            "sourcePortRanges": [],
                            "destinationPortRanges": [],
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    },
                    {
                        "name": "artifact",
                        "etag": "W/\"12a86e92-2e65-44ec-9d88-0a9c64caf6f8\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "8081",
                            "sourceAddressPrefix": "*",
                            "destinationAddressPrefix": "*",
                            "access": "Allow",
                            "priority": 110,
                            "direction": "Inbound",
                            "sourcePortRanges": [],
                            "destinationPortRanges": [],
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    },
                    {
                        "name": "sonar",
                        "etag": "W/\"12a86e92-2e65-44ec-9d88-0a9c64caf6f8\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "protocol": "TCP",
                            "sourcePortRange": "*",
                            "destinationPortRange": "9000",
                            "sourceAddressPrefix": "*",
                            "destinationAddressPrefix": "*",
                            "access": "Allow",
                            "priority": 120,
                            "direction": "Inbound",
                            "sourcePortRanges": [],
                            "destinationPortRanges": [],
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    },
                    {
                        "name": "Port_RDP",
                        "etag": "W/\"12a86e92-2e65-44ec-9d88-0a9c64caf6f8\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "protocol": "TCP",
                            "sourcePortRange": "3389",
                            "destinationPortRange": "3389",
                            "sourceAddressPrefix": "10.0.1.0/24",
                            "destinationAddressPrefix": "*",
                            "access": "Allow",
                            "priority": 130,
                            "direction": "Inbound",
                            "sourcePortRanges": [],
                            "destinationPortRanges": [],
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    }
                ],
                "defaultSecurityRules": [
                    {
                        "name": "AllowVnetInBound",
                        "etag": "W/\"12a86e92-2e65-44ec-9d88-0a9c64caf6f8\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "description": "Allow inbound traffic from all VMs in VNET",
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "VirtualNetwork",
                            "destinationAddressPrefix": "VirtualNetwork",
                            "access": "Allow",
                            "priority": 65000,
                            "direction": "Inbound",
                            "sourcePortRanges": [],
                            "destinationPortRanges": [],
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    },
                    {
                        "name": "AllowAzureLoadBalancerInBound",
                        "etag": "W/\"12a86e92-2e65-44ec-9d88-0a9c64caf6f8\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "description": "Allow inbound traffic from azure load balancer",
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "AzureLoadBalancer",
                            "destinationAddressPrefix": "*",
                            "access": "Allow",
                            "priority": 65001,
                            "direction": "Inbound",
                            "sourcePortRanges": [],
                            "destinationPortRanges": [],
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    },
                    {
                        "name": "DenyAllInBound",
                        "etag": "W/\"12a86e92-2e65-44ec-9d88-0a9c64caf6f8\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "description": "Deny all inbound traffic",
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "*",
                            "destinationAddressPrefix": "*",
                            "access": "Deny",
                            "priority": 65500,
                            "direction": "Inbound",
                            "sourcePortRanges": [],
                            "destinationPortRanges": [],
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    },
                    {
                        "name": "AllowVnetOutBound",
                        "etag": "W/\"12a86e92-2e65-44ec-9d88-0a9c64caf6f8\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "description": "Allow outbound traffic from all VMs to all VMs in VNET",
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "VirtualNetwork",
                            "destinationAddressPrefix": "VirtualNetwork",
                            "access": "Allow",
                            "priority": 65000,
                            "direction": "Outbound",
                            "sourcePortRanges": [],
                            "destinationPortRanges": [],
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    },
                    {
                        "name": "AllowInternetOutBound",
                        "etag": "W/\"12a86e92-2e65-44ec-9d88-0a9c64caf6f8\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "description": "Allow outbound traffic from all VMs to Internet",
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "*",
                            "destinationAddressPrefix": "Internet",
                            "access": "Allow",
                            "priority": 65001,
                            "direction": "Outbound",
                            "sourcePortRanges": [],
                            "destinationPortRanges": [],
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    },
                    {
                        "name": "DenyAllOutBound",
                        "etag": "W/\"12a86e92-2e65-44ec-9d88-0a9c64caf6f8\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "description": "Deny all outbound traffic",
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "*",
                            "destinationAddressPrefix": "*",
                            "access": "Deny",
                            "priority": 65500,
                            "direction": "Outbound",
                            "sourcePortRanges": [],
                            "destinationPortRanges": [],
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    }
                ]
            },
            "dependsOn": []
        },
        {
            "comments": "Generalized from resource: '/subscriptions/8c879d4b-1e31-438b-8f74-41093d5c4b83/resourceGroups/jenkinsaspass/providers/Microsoft.Network/publicIPAddresses/jumpserver-ip'.",
            "type": "Microsoft.Network/publicIPAddresses",
            "sku": {
                "name": "Basic",
                "tier": "Regional"
            },
            "name": "[parameters('publicIPAddresses_jumpserver_ip_name')]",
            "apiVersion": "2018-02-01",
            "location": "centralus",
            "tags": {},
            "scale": null,
            "properties": {
                "provisioningState": "Succeeded",
                "resourceGuid": "7d9675fe-db94-4903-b7bd-9e207bc61bb1",
                "ipAddress": "168.61.189.110",
                "publicIPAddressVersion": "IPv4",
                "publicIPAllocationMethod": "Dynamic",
                "idleTimeoutInMinutes": 4,
                "ipTags": []
            },
            "dependsOn": []
        },
        {
            "comments": "Generalized from resource: '/subscriptions/8c879d4b-1e31-438b-8f74-41093d5c4b83/resourceGroups/jenkinsaspass/providers/Microsoft.Network/publicIPAddresses/LoadBalancerFrontEnd'.",
            "type": "Microsoft.Network/publicIPAddresses",
            "sku": {
                "name": "Basic",
                "tier": "Regional"
            },
            "name": "[parameters('publicIPAddresses_LoadBalancerFrontEnd_name')]",
            "apiVersion": "2018-02-01",
            "location": "centralus",
            "scale": null,
            "properties": {
                "provisioningState": "Succeeded",
                "resourceGuid": "d8402dc1-83e2-4266-9b9b-0ed95e213769",
                "ipAddress": "168.61.185.210",
                "publicIPAddressVersion": "IPv4",
                "publicIPAllocationMethod": "Static",
                "idleTimeoutInMinutes": 4,
                "ipTags": []
            },
            "dependsOn": []
        },
        {
            "comments": "Generalized from resource: '/subscriptions/8c879d4b-1e31-438b-8f74-41093d5c4b83/resourceGroups/jenkinsaspass/providers/Microsoft.Network/publicIPAddresses/loadbip'.",
            "type": "Microsoft.Network/publicIPAddresses",
            "sku": {
                "name": "Basic",
                "tier": "Regional"
            },
            "name": "[parameters('publicIPAddresses_loadbip_name')]",
            "apiVersion": "2018-02-01",
            "location": "centralus",
            "scale": null,
            "properties": {
                "provisioningState": "Succeeded",
                "resourceGuid": "3234e545-dfce-49de-9e2b-ba9bba7624bb",
                "ipAddress": "104.43.129.114",
                "publicIPAddressVersion": "IPv4",
                "publicIPAllocationMethod": "Static",
                "idleTimeoutInMinutes": 4,
                "dnsSettings": {
                    "domainNameLabel": "[parameters('publicIPAddresses_loadbip_name')]",
                    "fqdn": "[concat(parameters('publicIPAddresses_loadbip_name'),'.centralus.cloudapp.azure.com')]"
                },
                "ipTags": []
            },
            "dependsOn": []
        },
        {
            "comments": "Generalized from resource: '/subscriptions/8c879d4b-1e31-438b-8f74-41093d5c4b83/resourceGroups/jenkinsaspass/providers/Microsoft.Network/virtualNetworks/testvnet'.",
            "type": "Microsoft.Network/virtualNetworks",
            "name": "[parameters('virtualNetworks_testvnet_name')]",
            "apiVersion": "2018-02-01",
            "location": "centralus",
            "scale": null,
            "properties": {
                "provisioningState": "Succeeded",
                "resourceGuid": "fccac901-fd91-4395-bd55-86f8799d751e",
                "addressSpace": {
                    "addressPrefixes": [
                        "10.0.0.0/16"
                    ]
                },
                "subnets": [
                    {
                        "name": "jump-subnet",
                        "etag": "W/\"a5f1a3a3-1627-4b66-a6c0-f31f64a49fab\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "addressPrefix": "10.0.1.0/24",
                            "networkSecurityGroup": {
                                "id": "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_jumpserver_nsg_name'))]"
                            },
                            "serviceEndpoints": []
                        }
                    },
                    {
                        "name": "default",
                        "etag": "W/\"a5f1a3a3-1627-4b66-a6c0-f31f64a49fab\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "addressPrefix": "10.0.0.0/24",
                            "networkSecurityGroup": {
                                "id": "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_software_nsg_name'))]"
                            },
                            "serviceEndpoints": []
                        }
                    }
                ],
                "virtualNetworkPeerings": [],
                "enableDdosProtection": false,
                "enableVmProtection": false
            },
            "dependsOn": [
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_jumpserver_nsg_name'))]",
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_software_nsg_name'))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/8c879d4b-1e31-438b-8f74-41093d5c4b83/resourceGroups/jenkinsaspass/providers/Microsoft.Network/networkSecurityGroups/jumpserver-nsg/securityRules/RDP'.",
            "type": "Microsoft.Network/networkSecurityGroups/securityRules",
            "name": "[concat(parameters('networkSecurityGroups_jumpserver_nsg_name'), '/', parameters('securityRules_RDP_name'))]",
            "apiVersion": "2018-02-01",
            "scale": null,
            "properties": {
                "provisioningState": "Succeeded",
                "protocol": "TCP",
                "sourcePortRange": "*",
                "destinationPortRange": "3389",
                "sourceAddressPrefix": "*",
                "destinationAddressPrefix": "*",
                "access": "Allow",
                "priority": 300,
                "direction": "Inbound",
                "sourcePortRanges": [],
                "destinationPortRanges": [],
                "sourceAddressPrefixes": [],
                "destinationAddressPrefixes": []
            },
            "dependsOn": [
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_jumpserver_nsg_name'))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/8c879d4b-1e31-438b-8f74-41093d5c4b83/resourceGroups/jenkinsaspass/providers/Microsoft.Network/networkSecurityGroups/software-nsg/securityRules/Port_8080'.",
            "type": "Microsoft.Network/networkSecurityGroups/securityRules",
            "name": "[concat(parameters('networkSecurityGroups_software_nsg_name'), '/', parameters('securityRules_Port_8080_name'))]",
            "apiVersion": "2018-02-01",
            "scale": null,
            "properties": {
                "provisioningState": "Succeeded",
                "protocol": "TCP",
                "sourcePortRange": "*",
                "destinationPortRange": "8080",
                "sourceAddressPrefix": "*",
                "destinationAddressPrefix": "*",
                "access": "Allow",
                "priority": 100,
                "direction": "Inbound",
                "sourcePortRanges": [],
                "destinationPortRanges": [],
                "sourceAddressPrefixes": [],
                "destinationAddressPrefixes": []
            },
            "dependsOn": [
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_software_nsg_name'))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/8c879d4b-1e31-438b-8f74-41093d5c4b83/resourceGroups/jenkinsaspass/providers/Microsoft.Network/networkSecurityGroups/software-nsg/securityRules/artifact'.",
            "type": "Microsoft.Network/networkSecurityGroups/securityRules",
            "name": "[concat(parameters('networkSecurityGroups_software_nsg_name'), '/', parameters('securityRules_artifact_name'))]",
            "apiVersion": "2018-02-01",
            "scale": null,
            "properties": {
                "provisioningState": "Succeeded",
                "protocol": "*",
                "sourcePortRange": "*",
                "destinationPortRange": "8081",
                "sourceAddressPrefix": "*",
                "destinationAddressPrefix": "*",
                "access": "Allow",
                "priority": 110,
                "direction": "Inbound",
                "sourcePortRanges": [],
                "destinationPortRanges": [],
                "sourceAddressPrefixes": [],
                "destinationAddressPrefixes": []
            },
            "dependsOn": [
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_software_nsg_name'))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/8c879d4b-1e31-438b-8f74-41093d5c4b83/resourceGroups/jenkinsaspass/providers/Microsoft.Network/networkSecurityGroups/software-nsg/securityRules/sonar'.",
            "type": "Microsoft.Network/networkSecurityGroups/securityRules",
            "name": "[concat(parameters('networkSecurityGroups_software_nsg_name'), '/', parameters('securityRules_sonar_name'))]",
            "apiVersion": "2018-02-01",
            "scale": null,
            "properties": {
                "provisioningState": "Succeeded",
                "protocol": "TCP",
                "sourcePortRange": "*",
                "destinationPortRange": "9000",
                "sourceAddressPrefix": "*",
                "destinationAddressPrefix": "*",
                "access": "Allow",
                "priority": 120,
                "direction": "Inbound",
                "sourcePortRanges": [],
                "destinationPortRanges": [],
                "sourceAddressPrefixes": [],
                "destinationAddressPrefixes": []
            },
            "dependsOn": [
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_software_nsg_name'))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/8c879d4b-1e31-438b-8f74-41093d5c4b83/resourceGroups/jenkinsaspass/providers/Microsoft.Network/networkSecurityGroups/software-nsg/securityRules/Port_RDP'.",
            "type": "Microsoft.Network/networkSecurityGroups/securityRules",
            "name": "[concat(parameters('networkSecurityGroups_software_nsg_name'), '/', parameters('securityRules_Port_RDP_name'))]",
            "apiVersion": "2018-02-01",
            "scale": null,
            "properties": {
                "provisioningState": "Succeeded",
                "protocol": "TCP",
                "sourcePortRange": "3389",
                "destinationPortRange": "3389",
                "sourceAddressPrefix": "10.0.1.0/24",
                "destinationAddressPrefix": "*",
                "access": "Allow",
                "priority": 130,
                "direction": "Inbound",
                "sourcePortRanges": [],
                "destinationPortRanges": [],
                "sourceAddressPrefixes": [],
                "destinationAddressPrefixes": []
            },
            "dependsOn": [
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_software_nsg_name'))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/8c879d4b-1e31-438b-8f74-41093d5c4b83/resourceGroups/jenkinsaspass/providers/Microsoft.Network/virtualNetworks/testvnet/subnets/jump-subnet'.",
            "type": "Microsoft.Network/virtualNetworks/subnets",
            "name": "[concat(parameters('virtualNetworks_testvnet_name'), '/', parameters('subnets_jump_subnet_name'))]",
            "apiVersion": "2018-02-01",
            "scale": null,
            "properties": {
                "provisioningState": "Succeeded",
                "addressPrefix": "10.0.1.0/24",
                "networkSecurityGroup": {
                    "id": "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_jumpserver_nsg_name'))]"
                },
                "serviceEndpoints": []
            },
            "dependsOn": [
                "[resourceId('Microsoft.Network/virtualNetworks', parameters('virtualNetworks_testvnet_name'))]",
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_jumpserver_nsg_name'))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/8c879d4b-1e31-438b-8f74-41093d5c4b83/resourceGroups/jenkinsaspass/providers/Microsoft.Network/virtualNetworks/testvnet/subnets/default'.",
            "type": "Microsoft.Network/virtualNetworks/subnets",
            "name": "[concat(parameters('virtualNetworks_testvnet_name'), '/', parameters('subnets_default_name'))]",
            "apiVersion": "2018-02-01",
            "scale": null,
            "properties": {
                "provisioningState": "Succeeded",
                "addressPrefix": "10.0.0.0/24",
                "networkSecurityGroup": {
                    "id": "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_software_nsg_name'))]"
                },
                "serviceEndpoints": []
            },
            "dependsOn": [
                "[resourceId('Microsoft.Network/virtualNetworks', parameters('virtualNetworks_testvnet_name'))]",
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_software_nsg_name'))]"
            ]
        }
    ]
}
